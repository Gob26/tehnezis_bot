Generic single-database configuration.
# Telegram-бот для сбора данных с сайтов о зюзюбликах

Этот Telegram-бот позволяет пользователям загружать Excel-файлы со списком веб-сайтов, которые необходимо парсить для получения информации о зюзюбликах. Бот сохраняет информацию о целевых сайтах в базе данных.

## Предварительные требования

* Установленный Python 3.8+
* Установленный Poetry ([https://python-poetry.org/](https://python-poetry.org/))
* Docker и Docker Compose (для запуска PostgreSQL)
* Полученный токен Telegram-бота от BotFather

## Развертывание

1.  **Клонируйте репозиторий:**
    ```bash
    git clone <ваш_репозиторий_url>
    cd tehnezis_bot
    ```

2.  **Настройте переменные окружения:**
    Создайте файл `.env` в корне проекта и заполните его следующими данными:
    ```
    BOT_TOKEN=<ваш_токен_телеграм_бота>
    DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5430/postgres
    ```
    Убедитесь, что URL базы данных соответствует настройкам вашего PostgreSQL в `docker-compose.yml`.

3.  **Запустите базу данных PostgreSQL (через Docker Compose):**
    ```bash
    docker-compose up -d
    ```

4.  **Установите зависимости проекта с помощью Poetry:**
    ```bash
    poetry install
    ```

5.  **Выполните миграции Alembic для создания схемы базы данных:**
    ```bash
    poetry run alembic upgrade head
    ```

6.  **Запустите Telegram-бота:**
    ```bash
    python bot.py
    ```

## Использование

1.  Запустите Telegram и найдите своего бота (по юзернейму, который вы указали при создании).
2.  Отправьте команду `/start` для активации бота.
3.  Нажмите на кнопку "Загрузить файл".
4.  Прикрепите Excel-файл в формате таблицы со столбцами: `title`, `url`, `xpath`.
5.  Бот обработает файл, выведет его содержимое и сохранит данные в базе данных.

## Задача со звездочкой (не реализована)

* Парсинг данных из таблицы и вывод средней цены зюзюблика по каждому сайту.

## Контакты

* Ваш Telegram: <ваш_телеграм_никнейм>
* Ваш GitHub: <ваш_гитхаб_никнейм>